if (self.CavalryLogger) { CavalryLogger.start_js(["+FPrY"]); }

__d("CampfireByline.react",["cx","DOMContainer.react","ImageBlock.react","Link.react","React","cssURL"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=null;this.props.privacyMarkup&&(a=b("React").createElement("span",{className:"_4_mf"},b("React").createElement(b("DOMContainer.react"),null,this.props.privacyMarkup)));var c=null;this.props.permalinkURI?c=b("React").createElement("a",{href:this.props.permalinkURI,className:"uiLinkSubtle"},this.props.dateString):c=this.props.dateString;var d=null;this.props.viewCount&&(d=b("React").createElement("span",{className:"_5q4y"},b("React").createElement(b("DOMContainer.react"),null,this.props.viewCount)));return b("React").createElement(b("ImageBlock.react"),{className:"_2yud"},b("React").createElement("div",{className:"_2yuf",style:{backgroundImage:b("cssURL")(this.props.authorProfilePicURI)}}),b("React").createElement("div",{className:"_3uhg"},b("React").createElement(b("Link.react"),{className:"_2yug",href:this.props.authorProfileURI,target:"_blank"},this.props.authorName),b("React").createElement("span",{className:"_4_mg"},"\xb7"),c,a,d))};function a(){h.apply(this,arguments)}a.propTypes={authorName:c.string.isRequired,authorProfileURI:c.string.isRequired,authorProfilePicURI:c.string.isRequired,dateString:c.string.isRequired,permalinkURI:c.string,privacyMarkup:c.object,viewCount:c.object};e.exports=a}),null);
__d("canEditNote",["UserAgent"],(function(a,b,c,d,e,f){d=typeof a.getSelection==="function";var g=d&&(b("UserAgent").isPlatform("Linux")||b("UserAgent").isPlatform("Mac OS X")||b("UserAgent").isPlatform("Windows")||b("UserAgent").isPlatform("Chrome OS"))&&(b("UserAgent").isBrowser("IE >= 10")||b("UserAgent").isBrowser("Chrome")||b("UserAgent").isBrowser("Edge >= 12")||b("UserAgent").isBrowser("Firefox >= 16")||b("UserAgent").isBrowser("Opera >= 12")||b("UserAgent").isBrowser("Safari >= 5"));function c(){return g}e.exports=c}),null);
__d("XPageStoryComposerOnlyPublishController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/page/story/composer/onlypublish/",{page_story_id:{type:"FBID"},__asyncDialog:{type:"Int"}})}),null);
__d("PageStoryReader.react",["ix","cx","fbt","ActorURI","CampfireByline.react","CssBackgroundImage.react","Image.react","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","UnicodeBidi","UnicodeBidiDirection","Video.react","XPageStoryComposerOnlyPublishController","XUIButton.react","XUIGrayText.react","XUIOverlayButton.react","XUIText.react","asset","canEditNote","uniqueID"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("UnicodeBidiDirection").LTR,l=b("UnicodeBidiDirection").RTL,m=b("canEditNote")();c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={waitingToEdit:!1},this.$1=function(){this.props.onEdit&&this.setState({waitingToEdit:!0},this.props.onEdit)}.bind(this),this.$2=function(){b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").PAGE_STORY_PUBLISH,"story_composer",["pages_surface_team"],{page_story_id:this.props.pageID})}.bind(this),c}a.prototype.render=function(){__p&&__p();var a=null,c=this.props.coverMediaInfo;if(c)if(c.type==="photo"){var d=c.xOffset,e=c.yOffset;a=b("React").createElement(b("CssBackgroundImage.react"),{backgroundPosition:d.toString()+"% "+e.toString()+"%",className:"_60y2",imageURI:c.coverPhotoURI})}else c.type==="video"&&(a=b("React").createElement(b("Video.react"),{height:"100%",poster:c.posterSrc,src:c.videoSrc,width:"100%"}));d=null;if(this.props.canEdit){e=b("XPageStoryComposerOnlyPublishController").getURIBuilder().setFBID("page_story_id",this.props.storyID).getURI();e=b("ActorURI").create(e,this.props.pageID);c=i._("Click the \"Publish\" button to publish. Editing is not available in this browser.");var f=null;m&&(c=i._("Click the \"Publish\" button to publish or \"Edit\" to make more changes."),f=b("React").createElement(b("XUIButton.react"),{className:"_3-9b _3aal",disabled:this.state.waitingToEdit,label:i._("Edit"),onClick:this.$1,size:"xlarge",use:"default"}));d=b("React").createElement("div",{className:"_3aam"},b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"medium"},i._("This is a preview of your story.")),b("React").createElement(b("XUIGrayText.react"),{className:"_3-8w",display:"block",shade:"light"},c),b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("XUIButton.react"),{className:"_3aal",href:e.toString(),label:i._("Publish"),onClick:this.$2,rel:"async-post",size:"xlarge",use:"confirm"}),f))}c=null;if(this.props.canEdit){e=b("React").createElement(b("Image.react"),{src:g("363757")});m?c=b("React").createElement("div",{className:"_3aan"},b("React").createElement(b("XUIOverlayButton.react"),{disabled:this.state.waitingToEdit,image:e,label:i._("Edit Story"),onClick:this.$1})):c=b("React").createElement("div",{className:"_3aan"},b("React").createElement(b("XUIOverlayButton.react"),{disabled:!0,image:e,label:i._("Editing is not available in this browser")}))}f="_4lmi _3aao"+(this.props.coverMediaInfo?"":" _3aas");e=b("UnicodeBidi").getDirection(this.props.title);e="_4lmk"+(e===k?" _2vxa":"")+(e===l?" _2vxb":"")+" autofocus";var h=b("uniqueID")();return b("React").createElement("div",{"aria-labelledby":h,className:f,role:"dialog"},a,b("React").createElement("div",{className:"_39k2"},b("React").createElement(b("XUIText.react"),{className:e,display:"block",id:h,tabIndex:-1,type:"serif"},this.props.title),b("React").createElement(b("CampfireByline.react"),{authorName:this.props.authorInfo.name,authorProfilePicURI:this.props.authorInfo.profilePicURI,authorProfileURI:this.props.authorInfo.profileURI,dateString:this.props.authorInfo.dateString,permalinkURI:this.props.permalinkURI})),b("React").createElement(b("XUIText.react"),{className:"_39k5",display:"block",type:"serif"},this.props.children),b("React").createElement("div",{className:"_3aat"},d),c)};e.exports=a}),null);
__d("TypewriterLayer",["cx","fbt","DOM","DOMContainer.react","Layer","LayerAutoFocus","LayerButtons","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerTabIsolation","ModalLayer","React","ReactDOM","UserAgent","XUICloseButton.react","CSS"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j,k=b("UserAgent").isBrowser("IE");i=babelHelpers.inherits(l,b("Layer"));j=i&&i.prototype;l.prototype._getDefaultBehaviors=function(){"use strict";return j._getDefaultBehaviors.call(this).concat([b("LayerAutoFocus"),b("LayerButtons"),b("LayerFadeOnHide"),b("LayerFadeOnShow"),b("LayerHideOnBlur"),b("LayerTabIsolation"),b("ModalLayer")])};l.prototype._buildWrapper=function(a,c){"use strict";this._inner=b("DOM").create("div",{className:"_5g03"+(k?" _e_c":"")},c);a=b("DOM").create("div",{className:"_4-hy _29a3"});b("CSS").addClass(document.body,l.bodyClass);b("ReactDOM").render(b("React").createElement("div",null,b("React").createElement(b("XUICloseButton.react"),{className:"_5ezf layerCancel",size:"medium",shade:"light",label:h._("Close Note")}),b("React").createElement(b("DOMContainer.react"),{display:"block"},this._inner)),a);return a};l.prototype.getContentRoot=function(){"use strict";return this._inner};l.prototype.updatePosition=function(){"use strict";return!0};l.prototype.destroy=function(){"use strict";j.destroy.call(this),b("CSS").removeClass(document.body,l.bodyClass)};function l(){"use strict";i.apply(this,arguments)}l.bodyClass="_29a4";e.exports=l}),null);
__d("PageStoryReaderOverlay",["ActorURI","AsyncRequest","DOM","DOMContainer.react","LayerDestroyOnHide","LayerHideOnEscape","LayerHideOnTransition","LayerRefocusOnHide","PageStoryReader.react","PageTransitions","React","ReactDOM","TypewriterLayer","URI","XPageStoryComposerController","goURI"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d){"use strict";this.$13=function(){this.$7.show()}.bind(this),this.$1=a,this.$2=c,this.$3=d,this.$4=b("DOM").create("div"),this.$5=null,this.$6=null,this.$7=new(b("TypewriterLayer"))({addedBehaviors:[b("LayerDestroyOnHide"),b("LayerHideOnEscape"),b("LayerHideOnTransition"),b("LayerRefocusOnHide")],causalElement:d.causalElement},this.$4),this.$7.subscribe("hide",this.$8.bind(this)),this.$9(),!this.$3.canEdit&&this.$3.published&&(this.$10=Date.now())}a.prototype.$8=function(){"use strict";__p&&__p();b("PageTransitions").removeHandler(this.$11);this.$11=null;var a=function(c){var d=this.$5;this.$5=null;b("PageTransitions").removeHandler(a);if(d.getPath()===c.getPath()){b("PageTransitions").transitionComplete(!0);return!0}return!1}.bind(this);b("PageTransitions").registerHandler(a);b("goURI")(this.$5)};a.prototype.$12=function(){"use strict";var a=this.$1,c=b("XPageStoryComposerController").getURIBuilder().getURI();c=b("ActorURI").create(c,a);new(b("AsyncRequest"))(c).setData({page_id:a,page_story_id:this.$2}).setMethod("POST").setHandler(function(){this.$7.hide()}.bind(this)).send()};a.prototype.$9=function(){"use strict";b("ReactDOM").render(b("React").createElement(b("PageStoryReader.react"),{authorInfo:this.$3.authorInfo,canEdit:this.$3.canEdit,coverMediaInfo:this.$3.coverMediaInfo,onEdit:this.$12.bind(this),ownerID:this.$3.authorInfo.ownerID,pageID:this.$1,permalinkURI:this.$3.permalinkURI,storyID:this.$2,title:this.$3.title},b("React").createElement(b("DOMContainer.react"),{display:"block"},this.$3.documentMarkup)),this.$4,this.$13)};e.exports=a}),null);